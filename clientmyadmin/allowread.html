<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>ClientMyAdmin</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' href='/clientmyadmin/style.css'>
</head>
<body>
  <center>
    <h1>Well, this is annoying...</h1>
    <p id="$p">You need to grant us privilege to read the root directory</p>
    <p>Click the button below to grant us permission</p>
    <button id="$btn" autofocus>Prompt</button>
    <script type="module">
      import kv from 'https://localwebcontainer.com/clientmyadmin/shared/kv.js'
      const root = await kv('get', 'root')

      $btn.onclick = () => root.requestPermission({ mode: 'read' })
        .then(() => location.reload())
    </script>
  </center>
</body>
</html>

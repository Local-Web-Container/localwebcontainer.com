<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>ClientMyAdmin</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' href='/clientmyadmin/style.css'>
</head>
<body>
  <center>
    <h1>Well, this is annoying...</h1>
    <p>You need to grant us privilege to read the root directory</p>
    <p>Click the button below to grant us permission</p>
    <button autofocus>Prompt</button>
    <script type="module">
      const btn = document.querySelector('button')
      const kvP = import('https://localwebcontainer.com/clientmyadmin/shared/kv.js')
      btn.onclick = async () => {
        const kv = await kvP
        const root = await kv.default('get', 'root')
        await root.requestPermission({ mode: 'read' })
        location.reload()
      }
    </script>
  </center>
</body>
</html>

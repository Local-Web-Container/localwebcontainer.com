<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset='utf-8'>
    <title>ClientMyAdmin</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script>document.documentElement.classList.replace('no-js','js')</script>
    <link rel='stylesheet' href='https://localwebcontainer.com/clientmyadmin/style.css'>
</head>
<body>
<center class="hide-js">Javascript is disabled. Please enable it to view this page.</center>
<center class="hide-no-js">
    <h1>Installing service worker...</h1>
    <progress></progress>
    <p></p>
</center>
<script type="module">
    const p = document.querySelector('p')
    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {
        p.innerHTML = 'Service Workers are not supported in this browser.';
        document.querySelector('progress').remove()
    } else {
        const url = location.href.includes('localhost') ? '/sw-dev.js' : '/clientmyadmin-sw.js'

        // Allays install the service worker first
        navigator.serviceWorker.register(url, {
            scope: '/',
            // type: 'module',
            updateViaCache: 'none'
        }).then(() => location.reload(), err => {
            p.innerText = `Error: ${err.message}`
        })
    }
</script>
</body>
</html>
